<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>RxJS</title>
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">
    <link rel="stylesheet" href="css/zenburn.css">
    <style>
      img.head-img {
        width: 150px;
        height: 150px;
        border-radius: 50%;
      }
      .reveal .font-white {
        color: white;
      }
      .reveal .bg-white {
        background: white;
      }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section data-background="#15b6e4">
          <h2>æˆ´æ–‡ä¿Š</h2>
          <img class="head-img" src="img/head.jpeg"/>
          <h3>å‰ç«¯|ä¼ªå…¨æ ˆ</h3>
        </section>
        <section>
          <section>
            <h1>Â·RP</h1>
            <h1>Â·Rx</h1>
          </section>
          <section>
            <h1>Â·RP</h1>
            <p class="fragment">Reactive Programming</p>
            <p class="fragment">ä¼ è¯´ä¸­çš„  å“åº”å¼ç¼–ç¨‹</p>
          </section>
          <section>
            <h1>Â·Rx</h1>
            <p class="fragment">å³ReactiveXï¼Œå…¶ä¸­Xä»£è¡¨ä¸åŒçš„è¯­è¨€å’ŒæŠ€æœ¯æ ˆï¼Œæ¯”å¦‚.NETï¼ŒJavaï¼ŒScalaï¼ŒRubyï¼ŒJavascriptã€‚</p>
            <p class="fragment">RxJSè¡¨ç¤ºRPåŸºäºJavascriptè¯­è¨€çš„å®ç°ã€‚</p>
          </section>
        </section>
        <section>
          <section>
            <h1>Rxçš„æ ¸å¿ƒæ¦‚å¿µ</h1>
            <ol>
              <li class="fragment">Observable<span class="fragment">(å¯è§‚å¯Ÿçš„å¯¹è±¡)</span></li>
              <li class="fragment">Observer&Subscription<span class="fragment">(è§‚å¯Ÿè€…&è®¢é˜…)</span></li>
              <li class="fragment">Subject</li>
            </ol>
          </section>
          <section>
            <h2>æµç¨‹å‰–æ</h2>
            <ol>
              <li class="fragment">é€šè¿‡ä½¿ç”¨ Rx.Observable.create æˆ–è€…æ˜¯åˆ›å»ºæ“ä½œç¬¦ï¼Œ<strong>åˆ›å»º</strong> ä¸€ä¸ªObservableï¼›</li>
              <li class="fragment">Observable è¢« Observerï¼ˆè§‚å¯Ÿè€…ï¼‰ <strong>è®¢é˜…</strong>ï¼›</li>
              <li class="fragment">åœ¨ <strong>æ‰§è¡Œ</strong> æ—¶ å‘è§‚å¯Ÿè€…å‘é€next / error / complete é€šçŸ¥ï¼›</li>
              <li class="fragment">åŒæ—¶æ‰§è¡Œè¿‡ç¨‹å¯ä»¥è¢« <strong>ç»ˆæ­¢</strong>ã€‚</li>
            </ol>
          </section>
          <section>
            <h3>1.åˆ›å»º</h3>
            <pre class="fragment"><code data-trim data-noescape class="javascript">
              var observable = Rx.Observable.create(function (observer) {
                var id = setInterval(() => {
                  observer.next('hi')
                }, 1000);
              });
              // å…¶ä»–æ–¹æ³•æ¥åˆ›å»º
              Rx.Observable.interval(500);
              Rx.Observable.from([1, 2, 3]);
              Rx.Observable.of('aa', 'bb')
              </code></pre>
          </section>
          <section>
            <h3>2.è®¢é˜…</h3>
            <pre class="fragment"><code data-trim data-noescape class="javascript">
              var observer = {
                next: x => console.log('Observer got a next value: ' + x),
                error: err => console.error('Observer got an error: ' + err),
                complete: () => console.log('Observer got a complete notification'),
              };
              observable.subscribe(x => console.log(x));
            </code></pre>
          </section>
          <section>
            <h3>3.æ‰§è¡Œ</h3>
            <pre class="fragment"><code data-trim data-noescape class="javascript">
            var observable = Rx.Observable.create(function (observer) {
              try {
                observer.next(1);
                observer.next(2);
                observer.next(3);
                observer.complete();
              } catch (err) {
                observer.error(err); // æ•è·å¼‚å¸¸åæ¨é€é”™è¯¯é€šçŸ¥
              }
            });
            </code></pre>
          </section>
          <section>
            <h3>4.ç»ˆæ­¢</h3>
            <pre class="fragment"><code data-trim data-noescape class="javascript">
            var observable = Rx.Observable.interval(300);
            console.log('observer subscribed');
            var subscription = observable.subscribe(x => console.log(x));
            setTimeout(() => {
              console.log('observer unsubscribed');
              subscription.unsubscribe();
            }, 2000);
            </code></pre>
          </section>
        </section>
        <section>
          <section>
            <h3>Subject</h3>
            <div>ä»€ä¹ˆæ˜¯Subjectï¼Ÿ</div>
            <p class="fragment">åœ¨RxJSä¸­ï¼ŒSubjectæ˜¯ä¸€ç±»ç‰¹æ®Šçš„Observableï¼Œå®ƒå¯ä»¥å‘å¤šä¸ªObserverå¤šè·¯æ¨é€æ•°å€¼ã€‚æ™®é€šçš„Observableå¹¶ä¸å…·å¤‡å¤šè·¯æ¨é€çš„èƒ½åŠ›ï¼ˆæ¯ä¸€ä¸ªObserveréƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„æ‰§è¡Œç¯å¢ƒï¼‰ï¼Œè€ŒSubjectå¯ä»¥å…±äº«ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒã€‚</p>
          </section>
          <section>
            <div>æ¯ä¸€ä¸ªSubjectéƒ½æ˜¯ä¸€ä¸ªObservableï¼ˆå¯è§‚å¯Ÿå¯¹è±¡ï¼‰</div>
            <pre class="fragment"><code data-trim data-noescape class="javascript">
              var subject = new Rx.Subject();
              
              subject.subscribe({
                next: (v) => console.log('observerA: ' + v)
              });
              subject.subscribe({
                next: (v) => console.log('observerB: ' + v)
              });
              
              subject.next(1);
              subject.next(2);
            </code></pre>
          </section>
          <section>
              <div>æ¯ä¸€ä¸ªSubjectéƒ½æ˜¯ä¸€ä¸ªObservableï¼ˆå¯è§‚å¯Ÿå¯¹è±¡ï¼‰</div>
              <pre class="fragment"><code data-trim data-noescape class="javascript">
                var subject = new Rx.Subject();
                
                subject.subscribe({
                  next: (v) => console.log('observerA: ' + v)
                });
                subject.subscribe({
                  next: (v) => console.log('observerB: ' + v)
                });
                
                var observable = Rx.Observable.from([1, 2, 3]);

                // ä½ å¯ä»¥ä¼ é€’Subjectæ¥è®¢é˜…observable
                observable.subscribe(subject); 
              </code></pre>
          </section>
        </section>
        <section>
          <section>
            <h2>å¤šç§ç‰¹æ®Šçš„Subject</h2>
            <ol>
              <li class="fragment">BehaviorSubject</li>
              <li class="fragment">ReplaySubject</li>
              <li class="fragment">AsyncSubject</li>
            </ol>
          </section>
          <section>
            <h2>BehaviorSubject</h2>
            <p>å®ƒæ€»æ˜¯ä¿å­˜æœ€è¿‘å‘æ•°æ®æ¶ˆè´¹è€…å‘é€çš„å€¼ï¼Œå½“ä¸€ä¸ªObserverè®¢é˜…åï¼Œå®ƒä¼šå³åˆ»ä»BehaviorSubjectæ”¶åˆ°â€œæœ€æ–°çš„å€¼â€ã€‚</p>
            <pre class="fragment"><code data-trim data-noescape class="javascript">
            var subject = new Rx.BehaviorSubject(0 /* åˆå§‹å€¼ */);
            
            subject.subscribe({
              next: (v) => console.log('observerA: ' + v)
            });
            
            subject.next(1);
            subject.next(2);
            
            subject.subscribe({
              next: (v) => console.log('observerB: ' + v)
            });
            subject.next(3);
            </code></pre>
          </section>
          <section>
            <h2>ReplaySubject</h2>
            <p>é€šè¿‡ ReplaySubjectå¯ä»¥å‘æ–°çš„è®¢é˜…è€…æ¨é€æ—§æ•°å€¼ï¼Œå°±åƒä¸€ä¸ªå½•åƒæœºReplaySubjectå¯ä»¥è®°å½•Observableçš„ä¸€éƒ¨åˆ†çŠ¶æ€ï¼ˆè¿‡å»æ—¶é—´å†…æ¨é€çš„å€¼ï¼‰ã€‚</p>
            <pre class="fragment"><code data-trim data-noescape class="javascript">
              var subject = new Rx.ReplaySubject(3 /* å›æ”¾æ•°é‡ */);
              subject.subscribe({
                next: (v) => console.log('observerA: ' + v)
              });
              
              subject.next(1);
              subject.next(2);
              subject.next(3);
              subject.next(4);
              
              subject.subscribe({
                next: (v) => console.log('observerB: ' + v)
              });
              subject.next(5);
            </code></pre>
          </section>
          <section>
            <pre class="fragment"><code data-trim data-noescape class="javascript">
              var subject = new Rx.ReplaySubject(100, 500/*windowTime*/);
              subject.subscribe({
                next: (v) => console.log('observerA: ' + v)
              });
              
              var i = 1;
              setInterval(() => subject.next(i++), 200);
            
              setTimeout(() => {
                subject.subscribe({
                  next: (v) => console.log('observerB: ' + v)
                });
              }, 1000);
            </code></pre>
          </section>
          <section>
            <h2>AsyncSubject</h2>
            <p>Observableä»…ä¼šåœ¨æ‰§è¡Œå®Œæˆåï¼Œæ¨é€æ‰§è¡Œç¯å¢ƒä¸­çš„æœ€åä¸€ä¸ªå€¼ã€‚</p>
            <pre class="fragment"><code data-trim data-noescape class="javascript">
              var subject = new Rx.AsyncSubject();    
              subject.subscribe({
                next: (v) => console.log('observerA: ' + v)
              });             
              subject.next(1);
              subject.next(2);
              subject.next(3);
              subject.next(4);
              
              subject.subscribe({
                next: (v) => console.log('observerB: ' + v)
              });
              subject.next(5);
              subject.complete();
            </code></pre>
          </section>
        </section>
        <section data-background="#15b6e4">
          <h2>åº”ç”¨åœºæ™¯</h2>
          <p>ä¸ªäººè§‰å¾—ä¸€ä¸ªæŠ€æœ¯å­¦äº†,æœ‰ä¸ªåº”ç”¨åœºæ™¯æŠŠè¿™ä¸ªæŠ€æœ¯ç”¨èµ·æ¥æ¯”è¾ƒå¥½ï¼æœ€èµ·ç çŸ¥é“è¿™æ¬¡çš„å­¦ä¹ å¹¶éæ²¡æœ‰ä»·å€¼ğŸ˜„</p>
        </section>
        <section>
          <h2>ç»“æŸæ€»ç»“</h2>
          <h3>æ„Ÿè°¢å¤§å®¶å¬æˆ‘è¿™æ¬¡çš„åˆ†äº«</h3>
          <h3>å¸Œæœ›å¤§å®¶æœ‰æ‰€æ”¶è·!</h3>
        </section>
      </div>
    </div>
    <script src="js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
          center: true,
          history: true,
          // rtl: true,
  
          transition: 'linear',
          // transitionSpeed: 'slow',
          backgroundTransition: 'zoom',
          // Optional reveal.js plugins
          dependencies: [
            { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: 'plugin/zoom-js/zoom.js', async: true },
            { src: 'plugin/notes/notes.js', async: true }
          ]
        });
      </script>
  </body>
</html>